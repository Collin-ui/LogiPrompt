<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>LogiPrompt v2.3</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üöö</text></svg>">

<style>
:root{--blue:#0077cc;--bg:#f5faff;--card:#fff;--muted:#6b7280;--green:#00cc44;--danger:#e53935;}
*{box-sizing:border-box;}
body{margin:0;font-family:Roboto,Arial,sans-serif;background:var(--bg);color:#111;}
header{background:var(--blue);color:#fff;padding:14px 20px;display:flex;align-items:center;justify-content:space-between;box-shadow:0 2px 6px rgba(0,0,0,0.08);}
header .title{font-weight:700;}
header .menu-toggle{font-size:20px;cursor:pointer;user-select:none;}
#app{display:flex;min-height:calc(100vh - 56px);}
nav{width:260px;background:#eaf6ff;padding:18px;box-shadow:2px 0 6px rgba(0,0,0,0.05);transition:width .25s;display:flex;flex-direction:column;justify-content:space-between;}
nav.closed{width:64px;}
nav .profile-thumb{width:56px;height:56px;border-radius:50%;object-fit:cover;display:block;margin:0 auto 12px;}
nav ul{list-style:none;padding:0;margin:0;}
nav li{background:#d8edff;padding:10px;border-radius:8px;margin-bottom:8px;text-align:center;cursor:pointer;transition:background .15s;}
nav.closed li{padding:10px 6px;}
nav li:hover{background:#bfe3ff;}
nav .logout{background:var(--danger);color:#fff;padding:10px;border-radius:8px;border:none;cursor:pointer;width:100%;}
nav .logout:hover{background:#c6372d;}
main{flex:1;padding:28px;position:relative;}
.card{max-width:480px;margin:5% auto;background:var(--card);padding:26px;border-radius:12px;box-shadow:0 8px 20px rgba(10,30,60,0.06);}
.card h2{text-align:center;margin:0 0 12px;font-size:22px;}
input,select,button,textarea{width:100%;padding:10px 12px;margin:8px 0;border-radius:8px;border:1px solid #d1d5db;font-size:15px;}
label.inline{display:flex;align-items:center;gap:8px;font-size:14px;color:var(--muted);}
#promptOutput{background:#fbfeff;border:1px solid #e6f7ff;padding:12px;border-radius:8px;min-height:78px;white-space:pre-wrap;margin-top:12px;}
#truckAnimation{width:80px;height:50px;display:block;position:absolute;top:20px;left:-100px;transition:transform 2s ease-in-out;z-index:999;}
.status{margin-top:10px;color:var(--blue);font-weight:700;}
#rating{display:flex;gap:8px;margin-top:12px;}
.box{width:36px;height:36px;border-radius:6px;background:#eee;border:1px solid #d1d5db;}
.box.active{background:var(--green);border-color:rgba(0,0,0,0.06);}
.hidden{display:none;}
button.primary{background:var(--blue);color:#fff;border:none;cursor:pointer;border-radius:8px;}
button.ghost{background:transparent;border:1px solid #cbd5e1;color:#0b1220;cursor:pointer;}
@media (max-width:900px){nav{display:none}.card{margin:7% 12px}header{padding:12px}}
</style>
</head>
<body>
<header>
  <div class="title">LogiPrompt v2.3</div>
  <div class="menu-toggle" id="menuToggle">‚ò∞</div>
</header>
<div id="app">
<nav id="sideMenu" style="display:none" class="closed">
  <div class="top">
    <img id="profilePicMenu" class="profile-thumb" src="https://via.placeholder.com/56?text=LP" alt="Profilbild">
    <ul>
      <li id="navProfile">Profil</li>
      <li id="navPrompt">Prompt Erstellung</li>
      <li id="navFavs">Favoriten</li>
    </ul>
  </div>
  <div>
    <button id="btnLogout" class="logout">Abmelden</button>
  </div>
</nav>
<main id="mainContent">
  <img id="truckAnimation" src="https://i.imgur.com/1Q9Z1Zm.png" alt="LKW Animation">

  <!-- LOGIN -->
  <div id="loginPage" class="card">
    <h2>Anmeldung / Registrierung</h2>
    <input id="name" type="text" placeholder="Name">
    <input id="role" type="text" placeholder="Rolle in der Firma">
    <input id="company" type="text" placeholder="Firmenname">
    <input id="email" type="email" placeholder="E-Mail">
    <input id="password" type="password" placeholder="Passwort">
    <label class="inline"><input id="stayLoggedIn" type="checkbox"> Angemeldet bleiben</label>
    <div style="display:flex;gap:8px;margin-top:12px;">
      <button class="ghost" id="btnContinue">Weiter</button>
      <button class="primary" id="btnSaveContinue">Speichern & Fortsetzen</button>
    </div>
  </div>

  <!-- PROMPT PAGE -->
  <div id="promptPage" class="card hidden">
    <h2>Prompt-Erstellung</h2>
    <input id="keyword" type="text" placeholder="Schl√ºsselwort / Thema">
    <textarea id="additionalInfo" rows="2" placeholder="Zus√§tzliche Informationen"></textarea>

    <select id="recipientRole">
      <option value="">Adressat / Rolle ausw√§hlen</option>
      <option>Fahrerpersonal</option><option>Disposition</option><option>Verwaltung</option>
      <option>Gesch√§ftsf√ºhrung</option><option>Kunde</option><option>Partnerfirma</option>
    </select>
    <input id="recipientName" type="text" placeholder="Empf√§nger / Name">

    <select id="tone">
      <option value="">Tonfall ausw√§hlen</option>
      <option>Ernst</option><option>Freundlich</option><option>L√∂sungsorientiert</option>
      <option>Motivierend</option><option>Neutral</option>
    </select>

    <select id="textFormat">
      <option value="">Textformat ausw√§hlen</option>
      <option>Email</option><option>Teamsnachricht</option><option>Brief</option>
      <option>Chatnachricht</option><option>Dokumentation</option><option>Bericht</option>
    </select>

    <select id="language">
      <option value="">Sprache ausw√§hlen</option>
      <option>Deutsch</option><option>Englisch</option><option>Franz√∂sisch</option><option>Russisch</option>
    </select>

    <button class="primary" onclick="generatePrompt()">Prompt generieren</button>
    <div id="rating">
      <div class="box"></div><div class="box"></div><div class="box"></div><div class="box"></div><div class="box"></div>
    </div>
    <div id="promptOutput"></div>
    <div id="statusMsg" class="status hidden"></div>
  </div>
</main>
</div>

<script>
let userData={};
const loginPage=document.getElementById('loginPage');
const promptPage=document.getElementById('promptPage');
const menu=document.getElementById('sideMenu');
const menuToggle=document.getElementById('menuToggle');

menuToggle.onclick=()=>menu.classList.toggle('closed');
document.getElementById('btnLogout').onclick=()=>{
  localStorage.clear();userData={};
  promptPage.classList.add('hidden');loginPage.classList.remove('hidden');menu.style.display='none';
};

document.getElementById('btnContinue').onclick=()=>{menu.style.display='flex';loginPage.classList.add('hidden');promptPage.classList.remove('hidden');};
document.getElementById('btnSaveContinue').onclick=()=>{
  userData={
    name:document.getElementById('name').value,
    role:document.getElementById('role').value,
    company:document.getElementById('company').value,
    email:document.getElementById('email').value,
    password:document.getElementById('password').value,
  };
  localStorage.setItem('userData',JSON.stringify(userData));
  menu.style.display='flex';
  loginPage.classList.add('hidden');
  promptPage.classList.remove('hidden');
};

window.onload=()=>{
  const saved=localStorage.getItem('userData');
  if(saved){userData=JSON.parse(saved);menu.style.display='flex';loginPage.classList.add('hidden');promptPage.classList.remove('hidden');}
};

function updateRating(){
  const inputs=[...document.querySelectorAll('#promptPage input, #promptPage select, #promptPage textarea')];
  const filled=inputs.filter(i=>i.value.trim()!=='').length;
  const boxes=document.querySelectorAll('#rating .box');
  boxes.forEach((b,idx)=>b.classList.toggle('active',idx<filled/inputs.length*5));
}

function generatePrompt(){
  const keyword=document.getElementById('keyword').value;
  const additional=document.getElementById('additionalInfo').value;
  const recipientRole=document.getElementById('recipientRole').value;
  const recipientName=document.getElementById('recipientName').value;
  const tone=document.getElementById('tone').value;
  const textFormat=document.getElementById('textFormat').value;
  const language=document.getElementById('language').value;
  const truckAnim=document.getElementById('truckAnimation');

  truckAnim.style.left='-100px';truckAnim.style.transform='translateX(0)';
  setTimeout(()=>{
    const mainWidth=document.getElementById('mainContent').offsetWidth;
    truckAnim.style.transform=`translateX(${mainWidth + 120}px)`;
    setTimeout(()=>{
      const baseText="Erstelle eine professionelle Nachricht zum Thema [Thema], aufgrund [zus√§tzliche Informationen], f√ºr [Empf√§nger] in der Rolle [Rolle] im Ton [Tonfall] im Format [Textformat] auf [Sprache]. Absender ist [Name], [Rolle in der Firma] bei [Firmenname], erreichbar unter [E-Mail].";
      const finalPrompt=baseText.replace('[Thema]',keyword||'')
        .replace('[zus√§tzliche Informationen]',additional||'')
        .replace('[Empf√§nger]',recipientName||'')
        .replace('[Rolle]',recipientRole||'')
        .replace('[Tonfall]',tone||'')
        .replace('[Textformat]',textFormat||'')
        .replace('[Sprache]',language||'')
        .replace('[Name]',userData.name||'')
        .replace('[Rolle in der Firma]',userData.role||'')
        .replace('[Firmenname]',userData.company||'')
        .replace('[E-Mail]',userData.email||'');
      document.getElementById('promptOutput').textContent=finalPrompt;
      const statusMsg=document.getElementById('statusMsg');
      statusMsg.textContent='Prompt generiert!';
      statusMsg.classList.remove('hidden');
      setTimeout(()=>statusMsg.classList.add('hidden'),1800);
      updateRating();
    },2000);
  },100);
}
</script>
</body>
</html>
